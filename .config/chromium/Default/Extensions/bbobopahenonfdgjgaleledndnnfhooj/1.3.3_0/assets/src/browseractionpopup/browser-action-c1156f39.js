import{o as x,a as r,b as g,u as m,j as s,R as j,B as f,m as w,S as v,A as k}from"../../ReactIcons-5a38ff49.js";import{r as b,b as a,a as _,g as C,o as y,s as h}from"../../Config-486537b1.js";import{p as A}from"../../Backend-2b7ff99e.js";var N=Object.defineProperty,E=Object.getOwnPropertyDescriptor,l=(t,e,n,o)=>{for(var i=o>1?void 0:o?E(e,n):e,p=t.length-1,u;p>=0;p--)(u=t[p])&&(i=(o?u(e,n,i):u(i))||i);return o&&i&&N(e,n,i),i};class c extends f{keys;constructor(e){super(),w(this),this.keys=Object.keys(e),this.keys.forEach(n=>{this[n]=e[n]})}setUp(){y.addEventListener(e=>{this.autoCaptureLinks=e.autoCaptureLinks,this.popupEnabled=e.popupEnabled,this.silentAddDownload=e.silentAddDownload}),b(async()=>{this.setCanReachable(await A())})}popupEnabled;autoCaptureLinks;silentAddDownload;canReachable=null;setCanReachable(e){this.canReachable=e}setAutoCaptureLinks(e){h("autoCaptureLinks",e)}setPopupEnabled(e){h("popupEnabled",e)}setSilentAddDownload(e){h("silentAddDownload",e)}}l([r],c.prototype,"popupEnabled",2);l([r],c.prototype,"autoCaptureLinks",2);l([r],c.prototype,"silentAddDownload",2);l([r],c.prototype,"canReachable",2);l([g],c.prototype,"setCanReachable",1);function D(){return s.jsx(d,{onClick:()=>a.runtime.openOptionsPage(),left:a.i18n.getMessage("browser_action_more_settings"),right:s.jsx(v,{className:"w-6 h-6"})})}function M(t){const e=t.canReachable;let n=b(()=>{const o="text-sm ";return e===!0?s.jsx("div",{className:o+"text-green-500",children:a.i18n.getMessage("connection_connected")}):e===!1?s.jsx("div",{className:o+"text-red-500",children:a.i18n.getMessage("connection_not_connected")}):s.jsxs("div",{className:o+"",children:[a.i18n.getMessage("connection_checking"),"..."]})});return s.jsxs("div",{className:"p-4 bg-base-200 flex flex-row items-center",children:[s.jsx(k,{className:"w-8 h-8"}),s.jsx("div",{className:"min-w-[1rem] flex-1"}),s.jsxs("div",{children:[s.jsx("span",{children:a.i18n.getMessage("browser_action_popup_title")}),n]})]})}const R=x(t=>{const e=m(()=>t.vm);return s.jsxs("div",{"data-theme":"dark",className:"m-auto w-max",children:[s.jsx(M,{canReachable:e.canReachable}),s.jsxs("div",{className:"bg-base-200 shadow",children:[s.jsx(S,{enabled:e.autoCaptureLinks,toggle:n=>e.setAutoCaptureLinks(n)}),s.jsx(L,{enabled:e.popupEnabled,toggle:n=>e.setPopupEnabled(n)}),s.jsx(O,{enabled:e.silentAddDownload,toggle:n=>e.setSilentAddDownload(n)}),s.jsx(D,{})]})]})});function d(t){return s.jsx("div",{onClick:t.onClick,className:"flex flex-col space-y-4 hover:bg-primary/10 transition-colors select-none px-4 py-4",children:s.jsxs("div",{className:"flex flex-row items-center",children:[t.left,s.jsx("div",{className:"flex-grow min-w-[1rem]"}),t.right]})})}function L(t){return s.jsx(d,{left:s.jsx("div",{children:a.i18n.getMessage("config_show_popups")}),onClick:()=>t.toggle(!t.enabled),right:s.jsx("input",{checked:t.enabled,type:"checkbox",className:"checkbox"})})}function O(t){return s.jsx(d,{left:s.jsx("div",{children:a.i18n.getMessage("config_silent_add_download")}),onClick:()=>t.toggle(!t.enabled),right:s.jsx("input",{checked:t.enabled,type:"checkbox",className:"checkbox"})})}function S(t){return s.jsx(d,{onClick:()=>t.toggle(!t.enabled),left:s.jsx("div",{children:a.i18n.getMessage("config_auto_capture_links")}),right:s.jsx("input",{checked:t.enabled,type:"checkbox",className:"checkbox"})})}b(async()=>{await _();const t=new c(C()),e=document.getElementById("app");j.render(s.jsx(R,{vm:t}),e)});
